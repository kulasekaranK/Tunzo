<ion-footer class="music-player-footer">
    <ion-toolbar class="player-controls-toolbar">

        <div class="player-progress-container ion-margin-bottom">
            <ion-progress-bar [value]="player.getCurrentTime() / player.getDuration()" color="primary" class="player-progress-bar" [class.player-active]="player.isPlayingSong()">
            </ion-progress-bar>

            <div class="player-time-display">
                <span class="current-time">{{ player.formatTime(player.getCurrentTime()) }}</span>
                <span class="total-time">{{ player.formatTime(player.getDuration()) }}</span>
            </div>
        </div>

        <div class="player-main-container">
            <div class="player-album-art" [class.player-album-spin]="player.isPlayingSong()">
                @if (player.getCurrentSong()) {
                <img [src]="player.getCurrentSong()?.image[1]?.url" alt="Now Playing" class="album-image"> }
                <div class="album-art-overlay"></div>
            </div>

            <div class="player-primary-controls">
                <button class="player-nav-button" (click)="player.prev()">
          <svg class="player-nav-icon" viewBox="0 0 24 24">
            <path fill="currentColor" d="M6 18V6h2v12H6m3.5-6L18 6v12l-8.5-6z" />
          </svg>
        </button>

                <button class="player-play-button" (click)="player.togglePlayPause()">
          <svg class="player-play-icon" viewBox="0 0 24 24">
            @if (player.isPlayingSong()) {
              <path fill="currentColor" d="M14,19H18V5H14M6,19H10V5H6V19Z" />
            } @else {
              <path fill="currentColor" d="M8,5.14V19.14L19,12.14L8,5.14Z" />
            }
          </svg>
        </button>

                <button class="player-nav-button" (click)="player.next()">
          <svg class="player-nav-icon" viewBox="0 0 24 24">
            <path fill="currentColor" d="M16 18h2V6h-2v12m-3.5-6L6 6v12l6.5-6z" />
          </svg>
        </button>
            </div>

            <div class="player-secondary-controls">
                <button class="player-action-button">
          <svg class="player-action-icon" viewBox="0 0 24 24">
            <path fill="currentColor"
              d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z" />
          </svg>
        </button>
            </div>
        </div>
    </ion-toolbar>
</ion-footer>